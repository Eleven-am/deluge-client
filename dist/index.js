(()=>{var __webpack_modules__={696:e=>{"use strict";e.exports=JSON.parse('{"name":"axios","version":"0.21.1","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test && bundlesize","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://github.com/axios/axios","devDependencies":{"bundlesize":"^0.17.0","coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.0.2","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^20.1.0","grunt-karma":"^2.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^1.0.18","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^1.3.0","karma-chrome-launcher":"^2.2.0","karma-coverage":"^1.1.1","karma-firefox-launcher":"^1.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-opera-launcher":"^1.0.0","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^1.2.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^1.7.0","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^5.2.0","sinon":"^4.5.0","typescript":"^2.8.1","url-search-params":"^0.10.0","webpack":"^1.13.1","webpack-dev-server":"^1.14.1"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.10.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},126:(e,t,r)=>{e.exports=r(424)},996:(e,t,r)=>{"use strict";var n=r(67);var s=r(601);var i=r(125);var o=r(167);var a=r(605);var u=r(211);var c=r(803).http;var f=r(803).https;var d=r(835);var p=r(761);var l=r(696);var h=r(695);var m=r(534);var _=/https:?/;function setProxy(e,t,r){e.hostname=t.host;e.host=t.host;e.port=t.port;e.path=r;if(t.auth){var n=Buffer.from(t.auth.username+":"+t.auth.password,"utf8").toString("base64");e.headers["Proxy-Authorization"]="Basic "+n}e.beforeRedirect=function beforeRedirect(e){e.headers.host=e.host;setProxy(e,t,e.href)}}e.exports=function httpAdapter(e){return new Promise((function dispatchHttpRequest(t,r){var v=function resolve(e){t(e)};var g=function reject(e){r(e)};var b=e.data;var y=e.headers;if(!y["User-Agent"]&&!y["user-agent"]){y["User-Agent"]="axios/"+l.version}if(b&&!n.isStream(b)){if(Buffer.isBuffer(b)){}else if(n.isArrayBuffer(b)){b=Buffer.from(new Uint8Array(b))}else if(n.isString(b)){b=Buffer.from(b,"utf-8")}else{return g(h("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",e))}y["Content-Length"]=b.length}var w=undefined;if(e.auth){var x=e.auth.username||"";var R=e.auth.password||"";w=x+":"+R}var E=i(e.baseURL,e.url);var O=d.parse(E);var q=O.protocol||"http:";if(!w&&O.auth){var C=O.auth.split(":");var k=C[0]||"";var A=C[1]||"";w=k+":"+A}if(w){delete y.Authorization}var S=_.test(q);var T=S?e.httpsAgent:e.httpAgent;var j={path:o(O.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method.toUpperCase(),headers:y,agent:T,agents:{http:e.httpAgent,https:e.httpsAgent},auth:w};if(e.socketPath){j.socketPath=e.socketPath}else{j.hostname=O.hostname;j.port=O.port}var B=e.proxy;if(!B&&B!==false){var U=q.slice(0,-1)+"_proxy";var L=process.env[U]||process.env[U.toUpperCase()];if(L){var P=d.parse(L);var N=process.env.no_proxy||process.env.NO_PROXY;var D=true;if(N){var I=N.split(",").map((function trim(e){return e.trim()}));D=!I.some((function proxyMatch(e){if(!e){return false}if(e==="*"){return true}if(e[0]==="."&&O.hostname.substr(O.hostname.length-e.length)===e){return true}return O.hostname===e}))}if(D){B={host:P.hostname,port:P.port,protocol:P.protocol};if(P.auth){var M=P.auth.split(":");B.auth={username:M[0],password:M[1]}}}}}if(B){j.headers.host=O.hostname+(O.port?":"+O.port:"");setProxy(j,B,q+"//"+O.hostname+(O.port?":"+O.port:"")+j.path)}var H;var z=S&&(B?_.test(B.protocol):true);if(e.transport){H=e.transport}else if(e.maxRedirects===0){H=z?u:a}else{if(e.maxRedirects){j.maxRedirects=e.maxRedirects}H=z?f:c}if(e.maxBodyLength>-1){j.maxBodyLength=e.maxBodyLength}var F=H.request(j,(function handleResponse(t){if(F.aborted)return;var r=t;var i=t.req||F;if(t.statusCode!==204&&i.method!=="HEAD"&&e.decompress!==false){switch(t.headers["content-encoding"]){case"gzip":case"compress":case"deflate":r=r.pipe(p.createUnzip());delete t.headers["content-encoding"];break}}var o={status:t.statusCode,statusText:t.statusMessage,headers:t.headers,config:e,request:i};if(e.responseType==="stream"){o.data=r;s(v,g,o)}else{var a=[];r.on("data",(function handleStreamData(t){a.push(t);if(e.maxContentLength>-1&&Buffer.concat(a).length>e.maxContentLength){r.destroy();g(h("maxContentLength size of "+e.maxContentLength+" exceeded",e,null,i))}}));r.on("error",(function handleStreamError(t){if(F.aborted)return;g(m(t,e,null,i))}));r.on("end",(function handleStreamEnd(){var t=Buffer.concat(a);if(e.responseType!=="arraybuffer"){t=t.toString(e.responseEncoding);if(!e.responseEncoding||e.responseEncoding==="utf8"){t=n.stripBOM(t)}}o.data=t;s(v,g,o)}))}}));F.on("error",(function handleRequestError(t){if(F.aborted&&t.code!=="ERR_FR_TOO_MANY_REDIRECTS")return;g(m(t,e,null,F))}));if(e.timeout){F.setTimeout(e.timeout,(function handleRequestTimeout(){F.abort();g(h("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",F))}))}if(e.cancelToken){e.cancelToken.promise.then((function onCanceled(e){if(F.aborted)return;F.abort();g(e)}))}if(n.isStream(b)){b.on("error",(function handleStreamError(t){g(m(t,e,null,F))})).pipe(F)}else{F.end(b)}}))}},40:(e,t,r)=>{"use strict";var n=r(67);var s=r(601);var i=r(325);var o=r(167);var a=r(125);var u=r(284);var c=r(771);var f=r(695);e.exports=function xhrAdapter(e){return new Promise((function dispatchXhrRequest(t,r){var d=e.data;var p=e.headers;if(n.isFormData(d)){delete p["Content-Type"]}var l=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"";var m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";p.Authorization="Basic "+btoa(h+":"+m)}var _=a(e.baseURL,e.url);l.open(e.method.toUpperCase(),o(_,e.params,e.paramsSerializer),true);l.timeout=e.timeout;l.onreadystatechange=function handleLoad(){if(!l||l.readyState!==4){return}if(l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)){return}var n="getAllResponseHeaders"in l?u(l.getAllResponseHeaders()):null;var i=!e.responseType||e.responseType==="text"?l.responseText:l.response;var o={data:i,status:l.status,statusText:l.statusText,headers:n,config:e,request:l};s(t,r,o);l=null};l.onabort=function handleAbort(){if(!l){return}r(f("Request aborted",e,"ECONNABORTED",l));l=null};l.onerror=function handleError(){r(f("Network Error",e,null,l));l=null};l.ontimeout=function handleTimeout(){var t="timeout of "+e.timeout+"ms exceeded";if(e.timeoutErrorMessage){t=e.timeoutErrorMessage}r(f(t,e,"ECONNABORTED",l));l=null};if(n.isStandardBrowserEnv()){var v=(e.withCredentials||c(_))&&e.xsrfCookieName?i.read(e.xsrfCookieName):undefined;if(v){p[e.xsrfHeaderName]=v}}if("setRequestHeader"in l){n.forEach(p,(function setRequestHeader(e,t){if(typeof d==="undefined"&&t.toLowerCase()==="content-type"){delete p[t]}else{l.setRequestHeader(t,e)}}))}if(!n.isUndefined(e.withCredentials)){l.withCredentials=!!e.withCredentials}if(e.responseType){try{l.responseType=e.responseType}catch(t){if(e.responseType!=="json"){throw t}}}if(typeof e.onDownloadProgress==="function"){l.addEventListener("progress",e.onDownloadProgress)}if(typeof e.onUploadProgress==="function"&&l.upload){l.upload.addEventListener("progress",e.onUploadProgress)}if(e.cancelToken){e.cancelToken.promise.then((function onCanceled(e){if(!l){return}l.abort();r(e);l=null}))}if(!d){d=null}l.send(d)}))}},424:(e,t,r)=>{"use strict";var n=r(67);var s=r(560);var i=r(915);var o=r(286);var a=r(579);function createInstance(e){var t=new i(e);var r=s(i.prototype.request,t);n.extend(r,i.prototype,t);n.extend(r,t);return r}var u=createInstance(a);u.Axios=i;u.create=function create(e){return createInstance(o(u.defaults,e))};u.Cancel=r(812);u.CancelToken=r(450);u.isCancel=r(153);u.all=function all(e){return Promise.all(e)};u.spread=r(326);u.isAxiosError=r(120);e.exports=u;e.exports.default=u},812:e=>{"use strict";function Cancel(e){this.message=e}Cancel.prototype.toString=function toString(){return"Cancel"+(this.message?": "+this.message:"")};Cancel.prototype.__CANCEL__=true;e.exports=Cancel},450:(e,t,r)=>{"use strict";var n=r(812);function CancelToken(e){if(typeof e!=="function"){throw new TypeError("executor must be a function.")}var t;this.promise=new Promise((function promiseExecutor(e){t=e}));var r=this;e((function cancel(e){if(r.reason){return}r.reason=new n(e);t(r.reason)}))}CancelToken.prototype.throwIfRequested=function throwIfRequested(){if(this.reason){throw this.reason}};CancelToken.source=function source(){var e;var t=new CancelToken((function executor(t){e=t}));return{token:t,cancel:e}};e.exports=CancelToken},153:e=>{"use strict";e.exports=function isCancel(e){return!!(e&&e.__CANCEL__)}},915:(e,t,r)=>{"use strict";var n=r(67);var s=r(167);var i=r(609);var o=r(485);var a=r(286);function Axios(e){this.defaults=e;this.interceptors={request:new i,response:new i}}Axios.prototype.request=function request(e){if(typeof e==="string"){e=arguments[1]||{};e.url=arguments[0]}else{e=e||{}}e=a(this.defaults,e);if(e.method){e.method=e.method.toLowerCase()}else if(this.defaults.method){e.method=this.defaults.method.toLowerCase()}else{e.method="get"}var t=[o,undefined];var r=Promise.resolve(e);this.interceptors.request.forEach((function unshiftRequestInterceptors(e){t.unshift(e.fulfilled,e.rejected)}));this.interceptors.response.forEach((function pushResponseInterceptors(e){t.push(e.fulfilled,e.rejected)}));while(t.length){r=r.then(t.shift(),t.shift())}return r};Axios.prototype.getUri=function getUri(e){e=a(this.defaults,e);return s(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};n.forEach(["delete","get","head","options"],(function forEachMethodNoData(e){Axios.prototype[e]=function(t,r){return this.request(a(r||{},{method:e,url:t,data:(r||{}).data}))}}));n.forEach(["post","put","patch"],(function forEachMethodWithData(e){Axios.prototype[e]=function(t,r,n){return this.request(a(n||{},{method:e,url:t,data:r}))}}));e.exports=Axios},609:(e,t,r)=>{"use strict";var n=r(67);function InterceptorManager(){this.handlers=[]}InterceptorManager.prototype.use=function use(e,t){this.handlers.push({fulfilled:e,rejected:t});return this.handlers.length-1};InterceptorManager.prototype.eject=function eject(e){if(this.handlers[e]){this.handlers[e]=null}};InterceptorManager.prototype.forEach=function forEach(e){n.forEach(this.handlers,(function forEachHandler(t){if(t!==null){e(t)}}))};e.exports=InterceptorManager},125:(e,t,r)=>{"use strict";var n=r(913);var s=r(159);e.exports=function buildFullPath(e,t){if(e&&!n(t)){return s(e,t)}return t}},695:(e,t,r)=>{"use strict";var n=r(534);e.exports=function createError(e,t,r,s,i){var o=new Error(e);return n(o,t,r,s,i)}},485:(e,t,r)=>{"use strict";var n=r(67);var s=r(981);var i=r(153);var o=r(579);function throwIfCancellationRequested(e){if(e.cancelToken){e.cancelToken.throwIfRequested()}}e.exports=function dispatchRequest(e){throwIfCancellationRequested(e);e.headers=e.headers||{};e.data=s(e.data,e.headers,e.transformRequest);e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers);n.forEach(["delete","get","head","post","put","patch","common"],(function cleanHeaderConfig(t){delete e.headers[t]}));var t=e.adapter||o.adapter;return t(e).then((function onAdapterResolution(t){throwIfCancellationRequested(e);t.data=s(t.data,t.headers,e.transformResponse);return t}),(function onAdapterRejection(t){if(!i(t)){throwIfCancellationRequested(e);if(t&&t.response){t.response.data=s(t.response.data,t.response.headers,e.transformResponse)}}return Promise.reject(t)}))}},534:e=>{"use strict";e.exports=function enhanceError(e,t,r,n,s){e.config=t;if(r){e.code=r}e.request=n;e.response=s;e.isAxiosError=true;e.toJSON=function toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}};return e}},286:(e,t,r)=>{"use strict";var n=r(67);e.exports=function mergeConfig(e,t){t=t||{};var r={};var s=["url","method","data"];var i=["headers","auth","proxy","params"];var o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"];var a=["validateStatus"];function getMergedValue(e,t){if(n.isPlainObject(e)&&n.isPlainObject(t)){return n.merge(e,t)}else if(n.isPlainObject(t)){return n.merge({},t)}else if(n.isArray(t)){return t.slice()}return t}function mergeDeepProperties(s){if(!n.isUndefined(t[s])){r[s]=getMergedValue(e[s],t[s])}else if(!n.isUndefined(e[s])){r[s]=getMergedValue(undefined,e[s])}}n.forEach(s,(function valueFromConfig2(e){if(!n.isUndefined(t[e])){r[e]=getMergedValue(undefined,t[e])}}));n.forEach(i,mergeDeepProperties);n.forEach(o,(function defaultToConfig2(s){if(!n.isUndefined(t[s])){r[s]=getMergedValue(undefined,t[s])}else if(!n.isUndefined(e[s])){r[s]=getMergedValue(undefined,e[s])}}));n.forEach(a,(function merge(n){if(n in t){r[n]=getMergedValue(e[n],t[n])}else if(n in e){r[n]=getMergedValue(undefined,e[n])}}));var u=s.concat(i).concat(o).concat(a);var c=Object.keys(e).concat(Object.keys(t)).filter((function filterAxiosKeys(e){return u.indexOf(e)===-1}));n.forEach(c,mergeDeepProperties);return r}},601:(e,t,r)=>{"use strict";var n=r(695);e.exports=function settle(e,t,r){var s=r.config.validateStatus;if(!r.status||!s||s(r.status)){e(r)}else{t(n("Request failed with status code "+r.status,r.config,null,r.request,r))}}},981:(e,t,r)=>{"use strict";var n=r(67);e.exports=function transformData(e,t,r){n.forEach(r,(function transform(r){e=r(e,t)}));return e}},579:(e,t,r)=>{"use strict";var n=r(67);var s=r(953);var i={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(e,t){if(!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])){e["Content-Type"]=t}}function getDefaultAdapter(){var e;if(typeof XMLHttpRequest!=="undefined"){e=r(40)}else if(typeof process!=="undefined"&&Object.prototype.toString.call(process)==="[object process]"){e=r(996)}return e}var o={adapter:getDefaultAdapter(),transformRequest:[function transformRequest(e,t){s(t,"Accept");s(t,"Content-Type");if(n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)){return e}if(n.isArrayBufferView(e)){return e.buffer}if(n.isURLSearchParams(e)){setContentTypeIfUnset(t,"application/x-www-form-urlencoded;charset=utf-8");return e.toString()}if(n.isObject(e)){setContentTypeIfUnset(t,"application/json;charset=utf-8");return JSON.stringify(e)}return e}],transformResponse:[function transformResponse(e){if(typeof e==="string"){try{e=JSON.parse(e)}catch(e){}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function validateStatus(e){return e>=200&&e<300}};o.headers={common:{Accept:"application/json, text/plain, */*"}};n.forEach(["delete","get","head"],(function forEachMethodNoData(e){o.headers[e]={}}));n.forEach(["post","put","patch"],(function forEachMethodWithData(e){o.headers[e]=n.merge(i)}));e.exports=o},560:e=>{"use strict";e.exports=function bind(e,t){return function wrap(){var r=new Array(arguments.length);for(var n=0;n<r.length;n++){r[n]=arguments[n]}return e.apply(t,r)}}},167:(e,t,r)=>{"use strict";var n=r(67);function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function buildURL(e,t,r){if(!t){return e}var s;if(r){s=r(t)}else if(n.isURLSearchParams(t)){s=t.toString()}else{var i=[];n.forEach(t,(function serialize(e,t){if(e===null||typeof e==="undefined"){return}if(n.isArray(e)){t=t+"[]"}else{e=[e]}n.forEach(e,(function parseValue(e){if(n.isDate(e)){e=e.toISOString()}else if(n.isObject(e)){e=JSON.stringify(e)}i.push(encode(t)+"="+encode(e))}))}));s=i.join("&")}if(s){var o=e.indexOf("#");if(o!==-1){e=e.slice(0,o)}e+=(e.indexOf("?")===-1?"?":"&")+s}return e}},159:e=>{"use strict";e.exports=function combineURLs(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},325:(e,t,r)=>{"use strict";var n=r(67);e.exports=n.isStandardBrowserEnv()?function standardBrowserEnv(){return{write:function write(e,t,r,s,i,o){var a=[];a.push(e+"="+encodeURIComponent(t));if(n.isNumber(r)){a.push("expires="+new Date(r).toGMTString())}if(n.isString(s)){a.push("path="+s)}if(n.isString(i)){a.push("domain="+i)}if(o===true){a.push("secure")}document.cookie=a.join("; ")},read:function read(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function remove(e){this.write(e,"",Date.now()-864e5)}}}():function nonStandardBrowserEnv(){return{write:function write(){},read:function read(){return null},remove:function remove(){}}}()},913:e=>{"use strict";e.exports=function isAbsoluteURL(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},120:e=>{"use strict";e.exports=function isAxiosError(e){return typeof e==="object"&&e.isAxiosError===true}},771:(e,t,r)=>{"use strict";var n=r(67);e.exports=n.isStandardBrowserEnv()?function standardBrowserEnv(){var e=/(msie|trident)/i.test(navigator.userAgent);var t=document.createElement("a");var r;function resolveURL(r){var n=r;if(e){t.setAttribute("href",n);n=t.href}t.setAttribute("href",n);return{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}r=resolveURL(window.location.href);return function isURLSameOrigin(e){var t=n.isString(e)?resolveURL(e):e;return t.protocol===r.protocol&&t.host===r.host}}():function nonStandardBrowserEnv(){return function isURLSameOrigin(){return true}}()},953:(e,t,r)=>{"use strict";var n=r(67);e.exports=function normalizeHeaderName(e,t){n.forEach(e,(function processHeader(r,n){if(n!==t&&n.toUpperCase()===t.toUpperCase()){e[t]=r;delete e[n]}}))}},284:(e,t,r)=>{"use strict";var n=r(67);var s=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function parseHeaders(e){var t={};var r;var i;var o;if(!e){return t}n.forEach(e.split("\n"),(function parser(e){o=e.indexOf(":");r=n.trim(e.substr(0,o)).toLowerCase();i=n.trim(e.substr(o+1));if(r){if(t[r]&&s.indexOf(r)>=0){return}if(r==="set-cookie"){t[r]=(t[r]?t[r]:[]).concat([i])}else{t[r]=t[r]?t[r]+", "+i:i}}}));return t}},326:e=>{"use strict";e.exports=function spread(e){return function wrap(t){return e.apply(null,t)}}},67:(e,t,r)=>{"use strict";var n=r(560);var s=Object.prototype.toString;function isArray(e){return s.call(e)==="[object Array]"}function isUndefined(e){return typeof e==="undefined"}function isBuffer(e){return e!==null&&!isUndefined(e)&&e.constructor!==null&&!isUndefined(e.constructor)&&typeof e.constructor.isBuffer==="function"&&e.constructor.isBuffer(e)}function isArrayBuffer(e){return s.call(e)==="[object ArrayBuffer]"}function isFormData(e){return typeof FormData!=="undefined"&&e instanceof FormData}function isArrayBufferView(e){var t;if(typeof ArrayBuffer!=="undefined"&&ArrayBuffer.isView){t=ArrayBuffer.isView(e)}else{t=e&&e.buffer&&e.buffer instanceof ArrayBuffer}return t}function isString(e){return typeof e==="string"}function isNumber(e){return typeof e==="number"}function isObject(e){return e!==null&&typeof e==="object"}function isPlainObject(e){if(s.call(e)!=="[object Object]"){return false}var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function isDate(e){return s.call(e)==="[object Date]"}function isFile(e){return s.call(e)==="[object File]"}function isBlob(e){return s.call(e)==="[object Blob]"}function isFunction(e){return s.call(e)==="[object Function]"}function isStream(e){return isObject(e)&&isFunction(e.pipe)}function isURLSearchParams(e){return typeof URLSearchParams!=="undefined"&&e instanceof URLSearchParams}function trim(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function isStandardBrowserEnv(){if(typeof navigator!=="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")){return false}return typeof window!=="undefined"&&typeof document!=="undefined"}function forEach(e,t){if(e===null||typeof e==="undefined"){return}if(typeof e!=="object"){e=[e]}if(isArray(e)){for(var r=0,n=e.length;r<n;r++){t.call(null,e[r],r,e)}}else{for(var s in e){if(Object.prototype.hasOwnProperty.call(e,s)){t.call(null,e[s],s,e)}}}}function merge(){var e={};function assignValue(t,r){if(isPlainObject(e[r])&&isPlainObject(t)){e[r]=merge(e[r],t)}else if(isPlainObject(t)){e[r]=merge({},t)}else if(isArray(t)){e[r]=t.slice()}else{e[r]=t}}for(var t=0,r=arguments.length;t<r;t++){forEach(arguments[t],assignValue)}return e}function extend(e,t,r){forEach(t,(function assignValue(t,s){if(r&&typeof t==="function"){e[s]=n(t,r)}else{e[s]=t}}));return e}function stripBOM(e){if(e.charCodeAt(0)===65279){e=e.slice(1)}return e}e.exports={isArray:isArray,isArrayBuffer:isArrayBuffer,isBuffer:isBuffer,isFormData:isFormData,isArrayBufferView:isArrayBufferView,isString:isString,isNumber:isNumber,isObject:isObject,isPlainObject:isPlainObject,isUndefined:isUndefined,isDate:isDate,isFile:isFile,isBlob:isBlob,isFunction:isFunction,isStream:isStream,isURLSearchParams:isURLSearchParams,isStandardBrowserEnv:isStandardBrowserEnv,forEach:forEach,merge:merge,extend:extend,trim:trim,stripBOM:stripBOM}},285:(e,t,r)=>{var n;e.exports=function(){if(!n){try{n=r(991)("follow-redirects")}catch(e){n=function(){}}}n.apply(null,arguments)}},803:(e,t,r)=>{var n=r(835);var s=n.URL;var i=r(605);var o=r(211);var a=r(794).Writable;var u=r(357);var c=r(285);var f=["abort","aborted","connect","error","socket","timeout"];var d=Object.create(null);f.forEach((function(e){d[e]=function(t,r,n){this._redirectable.emit(e,t,r,n)}}));var p=createErrorType("ERR_FR_REDIRECTION_FAILURE","");var l=createErrorType("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded");var h=createErrorType("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit");var m=createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end");function RedirectableRequest(e,t){a.call(this);this._sanitizeOptions(e);this._options=e;this._ended=false;this._ending=false;this._redirectCount=0;this._redirects=[];this._requestBodyLength=0;this._requestBodyBuffers=[];if(t){this.on("response",t)}var r=this;this._onNativeResponse=function(e){r._processResponse(e)};this._performRequest()}RedirectableRequest.prototype=Object.create(a.prototype);RedirectableRequest.prototype.abort=function(){abortRequest(this._currentRequest);this.emit("abort")};RedirectableRequest.prototype.write=function(e,t,r){if(this._ending){throw new m}if(!(typeof e==="string"||typeof e==="object"&&"length"in e)){throw new TypeError("data should be a string, Buffer or Uint8Array")}if(typeof t==="function"){r=t;t=null}if(e.length===0){if(r){r()}return}if(this._requestBodyLength+e.length<=this._options.maxBodyLength){this._requestBodyLength+=e.length;this._requestBodyBuffers.push({data:e,encoding:t});this._currentRequest.write(e,t,r)}else{this.emit("error",new h);this.abort()}};RedirectableRequest.prototype.end=function(e,t,r){if(typeof e==="function"){r=e;e=t=null}else if(typeof t==="function"){r=t;t=null}if(!e){this._ended=this._ending=true;this._currentRequest.end(null,null,r)}else{var n=this;var s=this._currentRequest;this.write(e,t,(function(){n._ended=true;s.end(null,null,r)}));this._ending=true}};RedirectableRequest.prototype.setHeader=function(e,t){this._options.headers[e]=t;this._currentRequest.setHeader(e,t)};RedirectableRequest.prototype.removeHeader=function(e){delete this._options.headers[e];this._currentRequest.removeHeader(e)};RedirectableRequest.prototype.setTimeout=function(e,t){var r=this;if(t){this.on("timeout",t)}function destroyOnTimeout(t){t.setTimeout(e);t.removeListener("timeout",t.destroy);t.addListener("timeout",t.destroy)}function startTimer(t){if(r._timeout){clearTimeout(r._timeout)}r._timeout=setTimeout((function(){r.emit("timeout");clearTimer()}),e);destroyOnTimeout(t)}function clearTimer(){clearTimeout(this._timeout);if(t){r.removeListener("timeout",t)}if(!this.socket){r._currentRequest.removeListener("socket",startTimer)}}if(this.socket){startTimer(this.socket)}else{this._currentRequest.once("socket",startTimer)}this.on("socket",destroyOnTimeout);this.once("response",clearTimer);this.once("error",clearTimer);return this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach((function(e){RedirectableRequest.prototype[e]=function(t,r){return this._currentRequest[e](t,r)}}));["aborted","connection","socket"].forEach((function(e){Object.defineProperty(RedirectableRequest.prototype,e,{get:function(){return this._currentRequest[e]}})}));RedirectableRequest.prototype._sanitizeOptions=function(e){if(!e.headers){e.headers={}}if(e.host){if(!e.hostname){e.hostname=e.host}delete e.host}if(!e.pathname&&e.path){var t=e.path.indexOf("?");if(t<0){e.pathname=e.path}else{e.pathname=e.path.substring(0,t);e.search=e.path.substring(t)}}};RedirectableRequest.prototype._performRequest=function(){var e=this._options.protocol;var t=this._options.nativeProtocols[e];if(!t){this.emit("error",new TypeError("Unsupported protocol "+e));return}if(this._options.agents){var r=e.substr(0,e.length-1);this._options.agent=this._options.agents[r]}var s=this._currentRequest=t.request(this._options,this._onNativeResponse);this._currentUrl=n.format(this._options);s._redirectable=this;for(var i=0;i<f.length;i++){s.on(f[i],d[f[i]])}if(this._isRedirect){var o=0;var a=this;var u=this._requestBodyBuffers;(function writeNext(e){if(s===a._currentRequest){if(e){a.emit("error",e)}else if(o<u.length){var t=u[o++];if(!s.finished){s.write(t.data,t.encoding,writeNext)}}else if(a._ended){s.end()}}})()}};RedirectableRequest.prototype._processResponse=function(e){var t=e.statusCode;if(this._options.trackRedirects){this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t})}var r=e.headers.location;if(r&&this._options.followRedirects!==false&&t>=300&&t<400){abortRequest(this._currentRequest);e.destroy();if(++this._redirectCount>this._options.maxRedirects){this.emit("error",new l);return}if((t===301||t===302)&&this._options.method==="POST"||t===303&&!/^(?:GET|HEAD)$/.test(this._options.method)){this._options.method="GET";this._requestBodyBuffers=[];removeMatchingHeaders(/^content-/i,this._options.headers)}var s=removeMatchingHeaders(/^host$/i,this._options.headers)||n.parse(this._currentUrl).hostname;var i=n.resolve(this._currentUrl,r);c("redirecting to",i);this._isRedirect=true;var o=n.parse(i);Object.assign(this._options,o);if(o.hostname!==s){removeMatchingHeaders(/^authorization$/i,this._options.headers)}if(typeof this._options.beforeRedirect==="function"){var a={headers:e.headers};try{this._options.beforeRedirect.call(null,this._options,a)}catch(e){this.emit("error",e);return}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(e){var u=new p("Redirected request failed: "+e.message);u.cause=e;this.emit("error",u)}}else{e.responseUrl=this._currentUrl;e.redirects=this._redirects;this.emit("response",e);this._requestBodyBuffers=[]}};function wrap(e){var t={maxRedirects:21,maxBodyLength:10*1024*1024};var r={};Object.keys(e).forEach((function(i){var o=i+":";var a=r[o]=e[i];var f=t[i]=Object.create(a);function request(e,i,a){if(typeof e==="string"){var f=e;try{e=urlToOptions(new s(f))}catch(t){e=n.parse(f)}}else if(s&&e instanceof s){e=urlToOptions(e)}else{a=i;i=e;e={protocol:o}}if(typeof i==="function"){a=i;i=null}i=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,i);i.nativeProtocols=r;u.equal(i.protocol,o,"protocol mismatch");c("options",i);return new RedirectableRequest(i,a)}function get(e,t,r){var n=f.request(e,t,r);n.end();return n}Object.defineProperties(f,{request:{value:request,configurable:true,enumerable:true,writable:true},get:{value:get,configurable:true,enumerable:true,writable:true}})}));return t}function noop(){}function urlToOptions(e){var t={protocol:e.protocol,hostname:e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search,href:e.href};if(e.port!==""){t.port=Number(e.port)}return t}function removeMatchingHeaders(e,t){var r;for(var n in t){if(e.test(n)){r=t[n];delete t[n]}}return r}function createErrorType(e,t){function CustomError(e){Error.captureStackTrace(this,this.constructor);this.message=e||t}CustomError.prototype=new Error;CustomError.prototype.constructor=CustomError;CustomError.prototype.name="Error ["+e+"]";CustomError.prototype.code=e;return CustomError}function abortRequest(e){for(var t=0;t<f.length;t++){e.removeListener(f[t],d[f[t]])}e.on("error",noop);e.abort()}e.exports=wrap({http:i,https:o});e.exports.wrap=wrap},947:(e,t,r)=>{e=r.nmd(e);(function(e){"use strict";e.exports.is_uri=is_iri;e.exports.is_http_uri=is_http_iri;e.exports.is_https_uri=is_https_iri;e.exports.is_web_uri=is_web_iri;e.exports.isUri=is_iri;e.exports.isHttpUri=is_http_iri;e.exports.isHttpsUri=is_https_iri;e.exports.isWebUri=is_web_iri;var splitUri=function(e){var t=e.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);return t};function is_iri(e){if(!e){return}if(/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(e))return;if(/%[^0-9a-f]/i.test(e))return;if(/%[0-9a-f](:?[^0-9a-f]|$)/i.test(e))return;var t=[];var r="";var n="";var s="";var i="";var o="";var a="";t=splitUri(e);r=t[1];n=t[2];s=t[3];i=t[4];o=t[5];if(!(r&&r.length&&s.length>=0))return;if(n&&n.length){if(!(s.length===0||/^\//.test(s)))return}else{if(/^\/\//.test(s))return}if(!/^[a-z][a-z0-9\+\-\.]*$/.test(r.toLowerCase()))return;a+=r+":";if(n&&n.length){a+="//"+n}a+=s;if(i&&i.length){a+="?"+i}if(o&&o.length){a+="#"+o}return a}function is_http_iri(e,t){if(!is_iri(e)){return}var r=[];var n="";var s="";var i="";var o="";var a="";var u="";var c="";r=splitUri(e);n=r[1];s=r[2];i=r[3];a=r[4];u=r[5];if(!n)return;if(t){if(n.toLowerCase()!="https")return}else{if(n.toLowerCase()!="http")return}if(!s){return}if(/:(\d+)$/.test(s)){o=s.match(/:(\d+)$/)[0];s=s.replace(/:\d+$/,"")}c+=n+":";c+="//"+s;if(o){c+=o}c+=i;if(a&&a.length){c+="?"+a}if(u&&u.length){c+="#"+u}return c}function is_https_iri(e){return is_http_iri(e,true)}function is_web_iri(e){return is_http_iri(e)||is_https_iri(e)}})(e)},991:module=>{module.exports=eval("require")("debug")},357:e=>{"use strict";e.exports=require("assert")},605:e=>{"use strict";e.exports=require("http")},211:e=>{"use strict";e.exports=require("https")},794:e=>{"use strict";e.exports=require("stream")},835:e=>{"use strict";e.exports=require("url")},761:e=>{"use strict";e.exports=require("zlib")}};var __webpack_module_cache__={};function __nccwpck_require__(e){var t=__webpack_module_cache__[e];if(t!==undefined){return t.exports}var r=__webpack_module_cache__[e]={id:e,loaded:false,exports:{}};var n=true;try{__webpack_modules__[e](r,r.exports,__nccwpck_require__);n=false}finally{if(n)delete __webpack_module_cache__[e]}r.loaded=true;return r.exports}(()=>{__nccwpck_require__.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;__nccwpck_require__.d(t,{a:t});return t}})();(()=>{__nccwpck_require__.d=(e,t)=>{for(var r in t){if(__nccwpck_require__.o(t,r)&&!__nccwpck_require__.o(e,r)){Object.defineProperty(e,r,{enumerable:true,get:t[r]})}}}})();(()=>{__nccwpck_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})();(()=>{__nccwpck_require__.r=e=>{if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})}})();(()=>{__nccwpck_require__.nmd=e=>{e.paths=[];if(!e.children)e.children=[];return e}})();if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var __webpack_exports__={};(()=>{"use strict";__nccwpck_require__.r(__webpack_exports__);__nccwpck_require__.d(__webpack_exports__,{default:()=>DelugeHandler});var e=__nccwpck_require__(947);var t=__nccwpck_require__.n(e);var r=__nccwpck_require__(126);var n=__nccwpck_require__.n(r);var s=undefined&&undefined.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function fulfilled(e){try{step(n.next(e))}catch(e){s(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){s(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};class DelugeHandler{constructor(e,t,r,n){this.msgId=0;this.loggedIn=false;this.SESSION_COOKIE="";this.COOKIE_JAR={};if(r!==""&&e!==""&&t!==""){this.DELUGE_URL=e;this.PASSWORD=t;this.DOWNLOAD_PATH=r;if(n)this.COOKIE_JAR=n}else throw new Error("host url and password must be defined")}getHosts(){return s(this,void 0,void 0,(function*(){let e=yield this.secondCalls("web.get_hosts",[]);if(e&&e.result){return e.result.map((e=>({id:e[0],ip:e[1],port:e[2],status:e[3]})))}return null}))}isConnected(){return s(this,void 0,void 0,(function*(){const e=yield this.secondCalls("web.connected",[]);return e===true}))}connect(e){return s(this,void 0,void 0,(function*(){let t=yield this.secondCalls("web.connect",[e]);if(t)yield this.secondCalls("web.connected",[]);else throw new Error("failed to connect")}))}add(e){return s(this,void 0,void 0,(function*(){if(t().isWebUri(e)){let t="";for(const r in this.COOKIE_JAR){if(this.COOKIE_JAR.hasOwnProperty(r)&&e.lastIndexOf(r,0)===0){t=this.COOKIE_JAR[r];break}}let r=yield this.secondCalls("web.download_torrent_from_url",[e,t]);if(r){const e=this.formParams(r);yield this.secondCalls("web.add_torrents",e)}}else{const t=this.formParams(e);yield this.secondCalls("web.add_torrents",t)}}))}getRecords(){return s(this,void 0,void 0,(function*(){let e=[["queue","name","total_wanted","state","progress","num_seeds","total_seeds","num_peers","total_peers","download_payload_rate","upload_payload_rate","eta","ratio","distributed_copies","is_auto_managed","time_added","tracker_host","save_path","total_done","total_uploaded","max_download_speed","max_upload_speed","seeds_peers_ratio"],{}];return yield this.secondCalls("web.update_ui",e)}))}authenticate(){return s(this,void 0,void 0,(function*(){if(!this.loggedIn){let e=yield this.call({params:[this.PASSWORD],method:"auth.login"});if(e&&e.headers&&e.headers["set-cookie"])this.SESSION_COOKIE=e.headers["set-cookie"][0].split(";")[0]}else{let e=yield this.call({params:[this.SESSION_COOKIE],method:"auth.check_session"});this.loggedIn=!!e}}))}secondCalls(e,t){return s(this,void 0,void 0,(function*(){let r;if(!this.loggedIn){yield this.authenticate();r=yield this.call({params:t,method:e})}else r=yield this.call({params:[],method:e});if(r&&r.data&&r.data.error)console.log(r.data.error);return r&&r.data&&r.data.error===null?r.data:null}))}call(e){return s(this,void 0,void 0,(function*(){return new Promise((t=>{e.id=++this.msgId;if(this.msgId>1024)this.msgId=0;n().post(this.DELUGE_URL,e,{headers:{"Content-Type":"application/json",Cookie:this.SESSION_COOKIE}}).then((e=>{t(e)})).catch((()=>t(null)))}))}))}formParams(e){return[[{path:e,options:{file_priorities:[],add_paused:false,compact_allocation:true,download_location:this.DOWNLOAD_PATH,max_connections:-1,max_download_speed:-1,max_upload_slots:-1,max_upload_speed:-1,prioritize_first_last_pieces:false}}]]}}})();module.exports=__webpack_exports__})();